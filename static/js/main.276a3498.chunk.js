(this["webpackJsonptask-effort"]=this["webpackJsonptask-effort"]||[]).push([[0],[,,,function(e,t){e.exports={eventCodes:{fixationStart:1,fixationEnd:2,rewardProbabilityStart:10,rewardProbabilityEnd:11,frameSpikeStart:20,frameSpikeEnd:21,costBenefitsStart:30,costBenefitsEnd:31,choiceStart:40,choiceEnd:41,pressBalloonStart:50,pressBalloonEnd:51,cumulativeRewardsStart:60,cumulativeRewardsEnd:61,rewardFeedbackStart:70,rewardFeedbackEnd:71,showPaymentStart:80,showPaymentEnd:81,trialFinishStart:90,trialFinishEnd:91,test_connect:4,open_task:5}}},,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},,,,function(e,t,n){var o={"./blue_payout_correct_10.png":24,"./blue_payout_correct_100.png":25};function r(e){var t=s(e);return n(t)}function s(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id=23},function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_10.f515a81e.png"},function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_100.ae2416c7.png"},function(e){e.exports=JSON.parse('{"task":{"name":"Effort Task","end":"This experiment has ended."},"prompt":{"continue":{"press":"Press any key to continue.","button":"Continue","post_instructions":"You will now complete a short quiz to confirm your understanding of the task."},"focus":"Make sure the photodiode is aligned and the EEG recording has begun before continuing.","fullscreen":"Press \'cmd + ctrl + F\' to toggle Fullscreen.","zoom":"Zoom in to enlarge the screen.","setting_up":"Setting up task...","begin_recording":"To the Experimenter:<br></br>You may start the EEG recording now.","name_eeg_file":"Please name the EEG file: ","effort_suffix":"_Effort","confirm_recording":"Press any key to confirm the recording has begun."},"welcome":{"large_window":"Please make this window as large as possible.","message":"Instructions"},"userid":{"set":"Please enter the <i>Subject ID</i>. <br><span class=\'text-smoll\'>(The file will automatically be named <i>Subject ID</i>_Effort.)</span>"},"eventMarker":{"found":"<span class=\'text-green\'>Hold the USB event marker in front of the camera.</span>","not_found":"<span class=\'text-danger\'>Note: no USB event marker found.</span>"},"instructions":{"welcome":"Welcome!","choose_btwn_two_balloons":"In this experiment, you will be making a choice between inflating one of 2 balloons by pressing corresponding keys on the keyboard.","your_job":"Your job is to pop the balloons by pumping them up to a spike in order to win points!","pop_balloon_earn_money":"The points earned from popping a balloon will be shown with a \'+\' sign in front of it (i.e. <span class=\'text-large\'><b>+1</b></span>).","points_to_bonus_conversion":"For every <span class=\'text-large\'><b>20 points</b></span> that you win in the game, you will get <span class=\'text-large\'><b>$1</b></span> at the end of the experiment.","cumulative_rewards":"You will be shown total number of points earned at the end of each trial.","two_balloons":"There are 2 kinds of balloons: <br><span class=\'text-green\'><b>GREEN</b></span> and <span class=\'text-blue\'><b>BLUE</b></span> balloons.","blue_balloon_points":"<span class=\'text-blue\'><b>BLUE</b></span> balloons will <u>pop</u> after you <span class=\'text-blue\'><b>pump 20 times</b></span> and you <span class=\'text-blue\'><b><u>may</u> win 1 point</b></span>.","green_balloon_points":"<span class=\'text-green\'><b>GREEN</b></span> balloons <span class=\'text-green\'><b>may win you more points</b></span>, but will <span class=\'text-green\'><b>require more pumps</b></span>.","green_balloon_pop_time":"<span class=\'text-green\'><b>GREEN</b></span> balloons will always pop after <span class=\'text-green\'><b>25 seconds</b></span>.","green_balloon_pump_bonus":"If you continue to pump the <span class=\'text-green\'><b>GREEN</b></span> balloon after it hits the spike within the <span class=\'text-green\'><b>25 seconds</b></span> time limit, the bigger the balloon will get and the more <u>bonus</u> points you will earn.<br></br>If you choose the <span class=\'text-green\'><b>GREEN</b></span> balloon and then it does not reach the spike in time, you still earn points based on the number of pumps you make. <br></br>(Example: If the total possible points you can earn for a balloon is 2 points and you pump the balloon halfway to the spike, you will earn 1 point.)<br></br>","green_balloon_variable_points_pumps":"For the <span class=\'text-green\'><b>GREEN</b></span> balloon, the number of pumps needed and the number of points you could win <span class=\'text-green\'><b><u>can change on each round</u></b></span>.","blue_balloon_constant_points_pumps":"For the <span class=\'text-blue\'><b>BLUE</b></span> balloon, the potential win <span class=\'text-blue\'><b><u>will always stay the same</u></b></span> (<span class=\'text-blue\'><b>1 point</b></span>),<br>and it will always require <span class=\'text-blue\'><b>20 pumps</b></span>.","reward_prob_variable":"For some rounds, the chances that you will win points for either balloon are 50%<br>(even after popping the balloon).","reward_prob_certain":"In other rounds the chances of winning will be 100%.","reward_prob_display_event":"The chances of winning points on that round, and the number of points possible to win, will be shown to you while you choose which balloon to inflate.","pump_keys":"Press the    <span class=\'text-large\'><b>Q</b></span>    key to pump the balloon on the left.<br>Press the <span class=\'text-large\'><b>P</b></span>   key to pump the balloon on the right.","choice_locked_in":"Once you have chosen a balloon, you can only pump that balloon.","ready":"The experiment will start now.<br>Press next when ready!","blue_practice_pump":"In the next trial, try popping the <span class=\'text-blue\'><b>BLUE</b></span> balloon:<br>To pump it, press the    <span class=\'text-large\'><b>Q</b></span>   key with your <b>left index finger</b> to first choose the <span class=\'text-blue\'><b>blue</b></span> balloon and then to pump it.","green_practice_pump":"In the next trial, try popping the <span class=\'text-green\'><b>GREEN</b></span> balloon:<br>To pump it, press the    <span class=\'text-large\'><b>P</b></span>    key with your <b>right index finger</b> to first choose the <span class=\'text-green\'><b>green</b></span> balloon and then to pump it.","wait_pump":"<b>Wait for the balloon to appear on screen before beginning to pump."},"quiz":{"confirm_understanding":"To make sure you understand the task instructions, we will ask you some questions about how to perform the task.","incorrect_response":"You have answered incorrectly!","review":"Press any key to review the rules of the task.","retake":"<b>Press any key to retake the quiz.</b>","any_questions":"Do you have any questions?","prompt":{"more_pumps":"1. Which balloon requires more pumps? <span class=\'text-blue\'><b>BLUE</b></span> or <span class=\'text-green\'><b>GREEN</b></span>?","reward_certainty_reach_spike":"2. True or False: You will <u>ALWAYS</u> get points once you reach the spike.","bonus_blue":"3. True or False: You can get bonus points on the <span class=\'text-blue\'><b>BLUE</b></span> balloon.","bonus_green":"4. True or False: You can get bonus points on the <span class=\'text-green\'><b>GREEN</b></span> balloon.","total_shown":"5. True or False: You will be shown your total number of points after each round.","points_to_money":"6. True or False: You will receive real money from your total number of points at the end of the task."},"rules":{"preface":"Summary of Instructions/Rules:","shown_probability":"1. You will be shown the probability of earning points for a round.","shown_blue_green_on_screen":"2. You will be shown a <span class=\'text-blue\'><b>BLUE</b></span> balloon and a <span class=\'text-green\'><b>GREEN</b></span> balloon on the screen.","job":"3. Your job is to choose which balloon to pump up.","blue_req_20":"4. The <span class=\'text-blue\'><b>BLUE</b></span> balloon will ALWAYS require 20 pumps to reach the spike and can give 1 point.","green_vary_bonus":"5. The <span class=\'text-green\'><b>GREEN</b></span> balloon will <u>VARY</u> in pumps required and can give bonus points.","twenty_five_secs_green":"6. You have 25 seconds to pump the <span class=\'text-green\'><b>GREEN</b></span> balloon in order to receive all points possible.","bonus_green_spike":"7. You can get bonus points on the <span class=\'text-green\'><b>GREEN</b></span> balloon for pumping it up past the spike."},"answer_opts":{"true":"TRUE","false":"FALSE","blue":"<span class=\'text-blue\'><b>BLUE</b></span>","green":"<span class=\'text-green\'><b>GREEN</b></span>"}},"countdown":{"practice1":"You will begin <b>Practice Trial 1/3</b> in","practice2":"You will begin <b>Practice Trial 2/3</b> in","practice3":"You will begin <b>Practice Trial 3/3</b> in","expt1":"You will begin <b>Main Block </b> in","post_break_resume":"You will resume the task in"},"cumulative_rew":{"total":"Total:<br>"},"break":{"prompt":"You may now take a break.","done":"Press any key to end your break and to resume the task."},"payment":{"earned":"You have earned","experimenter":"Please inform the experimenter."}}')},function(e){e.exports=JSON.parse('{"welcome":{"message":"Welcome to the NEURO experiment."},"userid":{"set":"Setting up user ID."}}')},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var o,r=n(2),s=n.n(r),a=n(7),i=n.n(a),c=(n(19),n(4)),l=n.n(c),p=n(8),u=n(9),f=n(10),d=n(12),b=n(11),h=n(13),m=n(0),g=n(1),v=n.n(g),y=function(e){return new Promise((function(t){return setTimeout(t,e)}))},w=function(e){document.getElementById(e).classList.add("nocursor")},k=function(e){document.getElementById(e).classList.remove("nocursor")},x=function(e){return function(e,t){return e+Math.floor(Math.random()*Math.floor(t))}(e,50)},E=function(e){return JSON.parse(JSON.stringify(e))},P=((o=n(23)).keys().map(o),function(){var e=m.jsPsych.turk.turkInfo();return"".concat(e.workerId,":").concat(e.assignmentId)}),T=function(e,t){return{type:"html_keyboard_response",stimulus:"",trial_duration:1e3,response_ends_trial:!1,timeline:g.range(t,0,-1).map((function(t){return{prompt:"\n\t\t  \t<div class='effort-container'>\n\t  \t    <h1>".concat(e,"<br><br>\n\t\t  \t").concat(t,"</h1></div>")}})),on_load:function(){w("experiment")}}},q=n(3),Y=49.98,L=10.002,S={frameDimensions:[198,450],frameXpos:[Y,349.98],frameYpos:Y,frameLinecolor:"#ffffff",balloonXpos:[150,450],balloonYpos:409.9998,spikeWidth:Y,spikeRefHeight:249.96,spikeXpos:[150,450],spikeYpos:100.02,textXpos:[120,420],textYpos:540,rewProbXpos:600*.41,rewProbYpos:540,lineHeight:L,balloonRadius:L,balloonBaseHeight:79.97820000000003,spiketopHeight:50.04,inflateByHE:.5625,inflateByNHE:450/65},j=80,R=81,B=!m.jsPsych.turk.turkInfo().outsideTurk,H="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_AT_HOME,I=n(26);if(Object({NODE_ENV:"production",PUBLIC_URL:"."}).MTURK){var F=n(27);v.a.merge(I,F)}var N={probs:["100%"],value:[1,0],effort:[20,0],high_effort:[],get_reward:[],counterbalance:!1,keys:[],repeats_per_condition:1,is_practice:!1,photodiode_active:!1,num_breaks:0},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"main-prompt":"effort-container";return"<div class=".concat(n,">").concat(e,"</div>")},C=z("\n    <div class='instructions'>\n    <h1>".concat(I.instructions.welcome,"</h1>\n    <br></br>\n    <p>").concat(I.instructions.choose_btwn_two_balloons,"</p>\n    </div>\n    "),!0),X=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.pop_balloon_earn_money,"</p>\n    <p>").concat(I.instructions.points_to_bonus_conversion,"</p>\n    <p>").concat(I.instructions.cumulative_rewards,"</p>\n    </div>\n    "),!0),O=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.two_balloons,"</p>\n    <p>").concat(I.instructions.blue_balloon_points,"</p>\n    <p>").concat(I.instructions.blue_practice_pump,"</p>\n    </div>\n    "),!0),D=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.green_balloon_points,"</p>\n    <p>").concat(I.instructions.green_balloon_pop_time,"</p>\n    </div>\n    "),!0),M=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.green_balloon_pump_bonus,"</p>\n    </div>\n    "),!0),U=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.green_practice_pump,"</p>\n    </div>\n    "),!0),W=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.green_balloon_variable_points_pumps,"</p>\n    <p>").concat(I.instructions.blue_balloon_constant_points_pumps,"</p>\n    <p>").concat(I.instructions.wait_pump,"</p>\n    </div>\n    "),!0),A=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.reward_prob_variable,"</p>\n    <p>").concat(I.instructions.reward_prob_certain,"</p>\n    </div>\n    "),!0),G=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.reward_prob_display_event,"</p>\n    </div>\n    "),!0),J=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.pump_keys,"</p>\n    <p>").concat(I.instructions.choice_locked_in,"</p>\n    </div>\n    "),!0),K=z("\n    <div class='instructions'>\n    <p>".concat(I.instructions.ready,"</p>\n    </div>\n    "),!0),Q=function(){return{type:"instructions",show_clickable_nav:!0,pages:[C,X],on_load:function(){k("experiment")}}},V=function(){return{type:"instructions",show_clickable_nav:!0,pages:[O],on_load:function(){k("experiment")}}},$=function(){return{type:"instructions",show_clickable_nav:!0,pages:[D,M,U],on_load:function(){k("experiment")}}},Z=function(){return{type:"instructions",show_clickable_nav:!0,pages:[W,A,G,J],on_load:function(){k("experiment")}}},ee=function(){return{type:"instructions",show_clickable_nav:!0,pages:[K],on_load:function(){k("experiment")}}},te=n(5),ne=n.n(te),oe=!1;if(!B){var re=window.require("electron");oe=re.ipcRenderer}var se=function(){return'<div class="photodiode-box '.concat("invisible",'" id="photodiode-box">\n\t\t\t\t\t\t\t\t\t<span id="photodiode-spot" class="photodiode-spot"></span>\n  \t\t\t\t\t\t\t\t</div>')},ae=function(e){var t=e;e<q.eventCodes.open_task&&(t=1),function e(t,n){n>0&&function(e,t){ne()(".photodiode-spot").css({"background-color":"black"}),setTimeout((function(){ne()(".photodiode-spot").css({"background-color":"white"}),t()}),e)}(t,(function(){setTimeout((function(){e(t,n-1)}),t)}))}(40,t),oe&&oe.send("trigger",e)},ie={type:"html_keyboard_response",timeline:[{type:"html_keyboard_response",stimulus:z("<h1>".concat(I.welcome.large_window,"</h1>"),!0)+se(),prompt:I.prompt.continue.press,response_ends_trial:!0},{type:"html_keyboard_response",stimulus:z("<h1>".concat(I.welcome.message,"</h1>"),!0)+se(),prompt:I.prompt.continue.press,response_ends_trial:!0}]},ce=function(){return{type:"html_keyboard_response",stimulus:z("<h1>".concat(I.prompt.setting_up,"</h1>"),!0)+se(),trial_duration:2e3,on_load:function(){ae(q.eventCodes.open_task)}}},le=E(N);le.is_practice=!0,le.probs=["100%"],le.value=[1,0],le.effort=[20,0],le.high_effort=[!1,!1],le.keys=["q"],le.get_reward=[!0,!0];var pe=E(N);pe.is_practice=!0,pe.probs=["100%"],pe.value=[0,5],pe.effort=[0,200],pe.high_effort=[!1,!0],pe.keys=["p"],pe.get_reward=[!0,!0];var ue=E(N);ue.is_practice=!0,ue.probs=["50%"],ue.value=[1,5],ue.effort=[20,200],ue.high_effort=[!1,!0],ue.keys=["q","p"],ue.get_reward=[!1,!0],console.log("at_home",H),console.log("env at home",Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_AT_HOME);var fe={type:"html_keyboard_response",stimulus:"",timeline:H?[ie,Q()]:[ce(),ie,Q()]},de=function(){return{type:"html_button_response",stimulus:z("<h1>".concat(I.task.name,"</h1>"),!0)+se(),choices:[I.prompt.continue.button]}},_e=function(e){return{type:"html_keyboard_response",stimulus:z("<h1>".concat(I.task.end,"</h1>"),!0)+se(),trial_duration:e,on_load:function(){k("experiment")}}},be=function(e){var t='<div class="effort-container"><div id="fixation-dot" class="color-white"> </div></div>'+se(),n=q.eventCodes.fixationStart,o=q.eventCodes.fixationEnd;return{type:"html_keyboard_response",choices:m.jsPsych.NO_KEYS,stimulus:t,response_ends_trial:!1,trial_duration:x(e),on_load:function(){w("experiment"),ae(n)},on_finish:function(e){ae(o),e.code=[n,o]}}};function he(e,t,n,o,r){var s;s="undefined"===r?"#FFFFFF":r,e.font="40px Helvetica",e.fillStyle=s;var a=S.lineHeight;e.lineHeight=a;var i=t;e.fillText(i,n+a,o)}function me(e,t,n,o,r,s){var a;a=s?"#7FFF00":0===n?"black":"#00FFFF",e.font="20px Helvetica",e.fillStyle=a;var i=S.lineHeight;e.lineHeight=i;var c="".concat(t," pts"),l="".concat(n," pumps");e.fillText(c,o+i,r),e.fillText(l,o-i,r+2*i)}function ge(e,t,n,o,r,s,a,i){e.save(),e.fillStyle=s,e.strokeStyle=a,e.beginPath(),i?e.clearRect(o-t/2,r,o,r+n):(e.moveTo(o-t/2,r),e.lineTo(o+t/2,r),e.lineTo(o,r+n),e.lineTo(o-t/2,r),e.fill()),e.closePath(),e.save()}function ve(e,t,n,o,r,s){var a;a=n?"#7FFF00":0===t?"black":"#00FFFF",e.save(),e.beginPath(),e.scale(.75,1),e.arc(1*o/.75,r,s,0,2*Math.PI),e.fillStyle=a,e.strokeStyle=a,e.fill(),e.lineWidth=1,e.restore()}var ye=function(e,t,n){return{timestamp:Date.now(),trial_earnings:e.trial_earnings,trial_cumulative_earnings:e.trial_cumulative_earnings,effort:t.is_practice?t.effort:n.effort,points:t.is_practice?t.value:n.value,get_reward:t.is_practice?t.get_reward:n.get_reward,high_effort:t.is_practice?t.high_effort:n.high_effort,keys:t.keys,subtrial_type:e.subtrial_type}},we='<canvas width="'.concat(600,'" height="').concat(600,'" id="jspsych-canvas">\n    Your browser does not support HTML5 canvas\n  </canvas>'),ke=function(e,t,n,o){var r='<div class="effort-container">'+we+'<div id="fixation-dot" class="color-white"> </div>'+se()+"</div>",s=q.eventCodes.rewardProbabilityStart,a=q.eventCodes.rewardProbabilityEnd,i=t.is_practice?n:n.prob;return{type:"call_function",async:!0,func:function(s){document.getElementById("jspsych-content").innerHTML=r;var a=document.querySelector("#jspsych-canvas"),c=a.getContext("2d");o.probability=i,o.subtrial_type="reward_prob",c.clearRect(0,0,a.width,a.height),he(c,"".concat(i),S.rewProbXpos,S.rewProbYpos,"undefined"),setTimeout((function(){s(ye(o,t,n))}),e)},on_load:function(){w("experiment"),ae(s)},on_finish:function(e){ae(a),e.encode=[s,a]}}},xe='<canvas width="'.concat(600,'" height="').concat(600,'" id="jspsych-canvas">\n    Your browser does not support HTML5 canvas\n  </canvas>'),Ee=function(e,t,n,o){var r='<div class="effort-container">'+xe+'<div id="fixation-dot" class="color-white"> </div>'+se()+"</div>",s=q.eventCodes.frameSpikeStart,a=q.eventCodes.frameSpikeEnd,i=t.is_practice?n:n.prob,c=t.is_practice?t.effort:n.effort,l=t.is_practice?t.high_effort:n.high_effort;return{type:"call_function",async:!0,func:function(s){document.getElementById("jspsych-content").innerHTML=r;var a=document.querySelector("#jspsych-canvas"),p=a.getContext("2d");o.probability=i,o.subtrial_type="frame_and_spike",function(){p.clearRect(0,0,a.width,a.height);for(var e=[0,0],t=0;t<2;t++){var n=2*(l[t]?S.inflateByHE:S.inflateByNHE)*(c[t]-1),o=S.balloonBaseHeight+2*S.balloonRadius;e[t]=c[t]?S.frameDimensions[1]-o-n-S.spiketopHeight:0}he(p,"".concat(i),S.rewProbXpos,S.rewProbYpos,"undefined"),ge(p,S.spikeWidth,e[0],S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),ge(p,S.spikeWidth,e[1],S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1)}(),setTimeout((function(){s(ye(o,t,n))}),e)},on_load:function(){w("experiment"),ae(s)},on_finish:function(e){ae(a),e.code=[s,a]}}},Pe='<canvas width="'.concat(600,'" height="').concat(600,'" id="jspsych-canvas">\n    Your browser does not support HTML5 canvas\n  </canvas>'),Te=function(e,t,n){var o='<div class="effort-container">'+Pe+'<div id="fixation-dot" class="color-white"> </div>'+se()+"</div>",r=q.eventCodes.choiceStart,s=q.eventCodes.choiceEnd;e=t.is_practice?5e6:e;var a=t.is_practice?n:n.prob,i=t.is_practice?t.value:n.value,c=t.is_practice?t.effort:n.effort,l=t.is_practice?t.high_effort:n.high_effort,p=t.keys,u=t.is_practice?t.get_reward:n.get_reward;return{type:"call_function",async:!0,func:function(t){document.getElementById("jspsych-content").innerHTML=o;var n=document.querySelector("#jspsych-canvas"),r=n.getContext("2d"),s=(new Date).getTime();!function(){r.clearRect(0,0,n.width,n.height);for(var e=[0,0],t=0;t<2;t++){var o=2*(l[t]?S.inflateByHE:S.inflateByNHE)*(c[t]-1),s=S.balloonBaseHeight+2*S.balloonRadius;e[t]=c[t]?S.frameDimensions[1]-s-o-S.spiketopHeight:0}he(r,"".concat(a),S.rewProbXpos,S.rewProbYpos,"undefined"),ge(r,S.spikeWidth,e[0],S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),me(r,i[0],c[0],S.textXpos[0],S.textYpos,l[0]),ve(r,c[0],l[0],S.balloonXpos[0],S.balloonYpos,S.balloonRadius),ge(r,S.spikeWidth,e[1],S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),me(r,i[1],c[1],S.textXpos[1],S.textYpos,l[1]),ve(r,c[1],l[1],S.balloonXpos[1],S.balloonYpos,S.balloonRadius)}();var f=setInterval((function(){if(((new Date).getTime()-s)/1e3/(e/1e3)>=1){m.jsPsych.pluginAPI.cancelKeyboardResponse(d),clearInterval(f);t({key:0,effort:0,value:0,high_effort:0,get_reward:0,subtrial_type:"choice"})}}),50);var d=m.jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){if(clearInterval(f),m.jsPsych.pluginAPI.cancelKeyboardResponse(d),e.key===R){var n={key:e.key,effort:c[0],value:i[0],high_effort:l[0],get_reward:u[0],subtrial_type:"choice"};t(n)}else e.key===j&&(n={key:e.key,effort:c[1],value:i[1],high_effort:l[1],get_reward:u[1]},t(n))},valid_responses:p,rt_method:"date",persist:!0,allow_held_key:!1})},on_load:function(){w("experiment"),ae(r)},on_finish:function(e){ae(s),e.code=[r,s]}}},qe='<canvas width="'.concat(600,'" height="').concat(600,'" id="jspsych-canvas">\n    Your browser does not support HTML5 canvas\n  </canvas>'),Ye=function(e,t,n,o){var r='<div class="effort-container">'+qe+'<div id="fixation-dot" class="color-white"> </div>'+se()+"</div>",s=q.eventCodes.costBenefitsStart,a=q.eventCodes.costBenefitsEnd,i=t.is_practice?n:n.prob,c=t.is_practice?t.value:n.value,l=t.is_practice?t.effort:n.effort,p=t.is_practice?t.high_effort:n.high_effort;return{type:"call_function",async:!0,func:function(s){document.getElementById("jspsych-content").innerHTML=r;var a=document.querySelector("#jspsych-canvas"),u=a.getContext("2d");o.probability=i,o.effort=l,o.high_effort=p,o.value=c,o.subtrial_type="cost_benefits",function(){u.clearRect(0,0,a.width,a.height);for(var e=[0,0],t=0;t<2;t++){var n=2*(p[t]?S.inflateByHE:S.inflateByNHE)*(l[t]-1),o=S.balloonBaseHeight+2*S.balloonRadius;e[t]=l[t]?S.frameDimensions[1]-o-n-S.spiketopHeight:0}he(u,"".concat(i),S.rewProbXpos,S.rewProbYpos,"undefined"),me(u,c[0],l[0],S.textXpos[0],S.textYpos,p[0]),ge(u,S.spikeWidth,e[0],S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),me(u,c[1],l[1],S.textXpos[1],S.textYpos,p[1]),ge(u,S.spikeWidth,e[1],S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1)}(),setTimeout((function(){s(ye(o,t,n))}),e)},on_load:function(){w("experiment"),ae(s)},on_finish:function(e){ae(a),e.code=[s,a]}}},Le='<canvas width="'.concat(600,'" height="').concat(600,'" id="jspsych-canvas">\n    Your browser does not support HTML5 canvas\n  </canvas>'),Se=function(e,t,n){var o='<div class="effort-container">'+Le+se()+"</div>",r=t.keys,s=t.is_practice,a=q.eventCodes.pressBalloonStart,i=q.eventCodes.pressBalloonEnd,c=t.is_practice?n:n.prob,l=t.is_practice?t.value:n.value,p=t.is_practice?t.effort:n.effort,u=t.is_practice?t.high_effort:n.high_effort;return{type:"call_function",async:!0,func:function(e){document.getElementById("jspsych-content").innerHTML=o;var t=m.jsPsych.data.get().select("value").values;if(t[t.length-1].key){var n,a,i,f,d=function(){return q.high_effort&&q.get_reward?(f=q.value*(w/q.effort),f=Math.round(100*f)/100):f=q.get_reward?q.value:0,f},_=function(){var e=S.balloonBaseHeight+2*k,t=S.frameDimensions[1]-e-S.spiketopHeight,n=!1;return a>t&&(n=!0),n},b=function(e){var t=(new Date).getTime()-v;if(L.push(t),0===w&&(v=(new Date).getTime()),w++,k+=n,E-=n,e.key===R&&ve(g,e.effort,e.high_effort,S.balloonXpos[0],E,k),e.key===j&&ve(g,e.effort,e.high_effort,S.balloonXpos[1],E,k),_()&&!e.high_effort&&(clearInterval(Y),y=!0,i=d(),P={reward:i,is_practice:s,subtrial_type:"inflate_balloon",rt:L,pumps:w,timeWhenPopped:(new Date).getTime(),firstPress:L[0],lastPress:L[L.length-1]}),_()&&e.high_effort){e.key===R&&(ge(g,S.spikeWidth,a,S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!0),ve(g,e.effort,e.high_effort,S.balloonXpos[0],E,k)),e.key===j&&(ge(g,S.spikeWidth,a,S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!0),ve(g,e.effort,e.high_effort,S.balloonXpos[1],E,k));var o=S.balloonBaseHeight+2*k;a=S.frameDimensions[1]-o-S.spiketopHeight,e.key===R&&ge(g,S.spikeWidth,a,S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),e.key===j&&ge(g,S.spikeWidth,a,S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1)}},h=document.querySelector("#jspsych-canvas"),g=h.getContext("2d"),v=(new Date).getTime(),y=0,w=0,k=S.balloonRadius,x=S.balloonBaseHeight+2*S.balloonRadius,E=S.balloonYpos,P={},T=m.jsPsych.data.get().select("value").values,q=T[T.length-1];n=q.high_effort?S.inflateByHE:S.inflateByNHE;!function(){g.clearRect(0,0,h.width,h.height),he(g,"".concat(c),S.rewProbXpos,S.rewProbYpos,"undefined");var e=2*n*(q.effort-1);a=q.effort?S.frameDimensions[1]-x-e-S.spiketopHeight:0,q.key===R?(ge(g,S.spikeWidth,a,S.spikeXpos[0],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),me(g,l[0],p[0],S.textXpos[0],S.textYpos,u[0]),ve(g,q.effort,q.high_effort,S.balloonXpos[0],S.balloonYpos,k)):(ge(g,S.spikeWidth,a,S.spikeXpos[1],S.spikeYpos,S.frameLinecolor,S.frameLinecolor,!1),me(g,l[1],p[1],S.textXpos[1],S.textYpos,u[1]),ve(g,q.effort,q.high_effort,S.balloonXpos[1],S.balloonYpos,k))}();var Y=setInterval((function(){((new Date).getTime()-v)/1e3/25>=1&w>0&&(q.high_effort||(f=0),clearInterval(Y),y=!0,i=q.high_effort?d():0,P={reward:i,is_practice:s,subtrial_type:"inflate_balloon",rt:L,pumps:w,firstPress:L[0],lastPress:L[L.length-1]},m.jsPsych.pluginAPI.cancelKeyboardResponse(B),e(P))}),50),L=[],B=m.jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(t){var n=m.jsPsych.data.get().select("value").values,o=n[n.length-1];t.key===o.key&&(b(o),y&&(m.jsPsych.pluginAPI.cancelKeyboardResponse(B),e(P)))},valid_responses:r,rt_method:"date",persist:!0,allow_held_key:!1})}else e(0)},on_load:function(){w("experiment"),ae(a)},on_finish:function(e){ae(i),e.code=[a,i]}}},je=function(e,t,n,o){var r=q.eventCodes.rewardFeedbackStart,s=q.eventCodes.rewardFeedbackEnd;return{type:"call_function",async:!0,func:function(r){var s,a=m.jsPsych.data.get().select("value").values,i=a[a.length-1];i?(s='<div class="effort-container"><h1>+'.concat(i.reward.toFixed(2),"</h1>")+se()+"</div>",o.trial_earnings=i.reward):(s='<div class="effort-container"><h1>+'.concat(0,"</h1>")+se()+"</div>",o.trial_earnings=0),document.getElementById("jspsych-content").innerHTML=s,o.subtrial_type="reward_feedback",setTimeout((function(){r(ye(t,o,n))}),e)},on_load:function(){w("experiment"),ae(r)},on_finish:function(e){ae(s),e.code=[r,s]}}},Re=function(e,t,n,o,r){var s=q.eventCodes.cumulativeRewardsStart,a=q.eventCodes.cumulativeRewardsEnd;return{type:"call_function",async:!0,func:function(n){for(var s=0,a=m.jsPsych.data.get().select("value").values,i=0;i<a.length;i++){var c=a[i];t.is_practice?!0===c.is_practice&&(s+=c.reward,r.trial_cumulative_earnings=s):!1===c.is_practice&&(s+=c.reward,r.trial_cumulative_earnings=s)}r.subtrial_type="cumulative_rewards";var l='<div class="effort-container"><h1>'.concat(I.cumulative_rew.total).concat(s.toFixed(2),"</h1>")+se()+"</div>";document.getElementById("jspsych-content").innerHTML=l,setTimeout((function(){n(ye(r,t,o))}),e)},on_load:function(){w("experiment"),ae(s)},on_finish:function(e){ae(a),e.code=[s,a]}}},Be=function(e,t){var n=q.eventCodes.trialFinish;return{type:"html_keyboard_response",stimulus:"",response_ends_trial:!1,trial_duration:t,on_load:function(){},on_start:function(e){B||(e.stimulus+=se())},on_finish:function(e){ae(n),e.code=n}}},He=function(e,t,n){var o={trial_earnings:0,trial_cumulative_earnings:0,value:[],effort:[],high_effort:[],probability:[],start_time:Date.now()};return{type:"html_keyboard_response",timeline:[be(300),ke(1e3,e,n,o),Ee(700,e,n,o),Ye(1500,e,n,o),Te(5e3,e,n),Se(25e3,e,n),be(500),je(1e3,e,n,o),be(500),Re(1e3,e,t,n,o),Be(o,500)]}},Ie=function(){return{type:"html_keyboard_response",stimulus:z("\n    <div class='instructions'>\n    <h1>".concat(I.break.prompt,"\n    </div>\n    "),!0),prompt:I.break.done,response_ends_trial:!0}},Fe=function(){return{type:"html_keyboard_response",timeline:[Ie(),T(I.countdown.post_break_resume,3)]}},Ne=function(e){var t=function(e){if(e.is_practice){var t=e.probs.map((function(t){return v.a.range(e.repeats_per_condition).map((function(){return t}))}));return v.a.shuffle(v.a.flatten(t))}for(var n=[],o=0;o<e.probs.length;o++)for(var r in e.value)for(var s in e.effort)n.push({prob:e.probs[o],effort:[e.effort[s],20],value:[e.value[r],1],high_effort:[!0,!1],get_reward:[e.get_reward[o],e.get_reward[o]]}),e.counterbalance&&n.push({prob:e.probs[o],effort:[20,e.effort[s]],value:[1,e.value[r]],high_effort:[!1,!0],get_reward:[e.get_reward[o],e.get_reward[o]]});return v.a.shuffle(n)}(e),n={block_earnings:0,optimal_earnings:0,continue_block:!0},o=t.map((function(t){return He(e,n,t)}));if(e.num_breaks>0)for(var r=Math.floor(o.length/(e.num_breaks+1)),s=1;s<e.num_breaks+1;s++)o.splice(s*r,0,Fe());return{type:"html_keyboard_response",timeline:o}},ze=function(e,t){var n=q.eventCodes.showPaymentStart,o=q.eventCodes.showPaymentEnd,r=0,s=t.keys[2];return!H||B?{type:"html_keyboard_response",stimulus:"",choices:s,response_ends_trial:!0,on_load:function(){ae(n),k("experiment")},on_start:function(e){var t,n=m.jsPsych.data.get().select("value").values,o=n[n.length-1].trial_cumulative_earnings;r+=o/20,e.stimulus=z("<h1>".concat(I.payment.earned,"<br>").concat((t=r,"$"+parseFloat(t).toFixed(2)),"<br></br>").concat(I.payment.experimenter,"</h1>"),!0)+se()},on_finish:function(e){ae(o),e.code=[n,o],e.total_earnings=r,e.subtrial_type="show_payment"}}:{type:"html_keyboard_response",on_load:function(){return k("experiment")}}},Ce=function(e){return B?{type:"html_keyboard_response",stimulus:z("<h1>".concat(I.userid.set,"</h1>"),!0),response_ends_trial:!1,trial_duration:800,on_finish:function(e){var t=P();console.log(t)}}:{type:"survey_text",questions:[{prompt:z("<h1>".concat(I.userid.set,"</h1>"),!0)}],on_finish:function(e){!function(e){var t=JSON.parse(e.responses).Q0;m.jsPsych.data.addProperties({patient_id:t,timestamp:Date.now()}),console.log("ID",t)}(e)}}},Xe=function(){return{type:"html_keyboard_response",stimulus:"",prompt:I.prompt.confirm_recording,response_ends_trial:!0,on_start:function(e){var t=m.jsPsych.data.get().select("patient_id").values;e.stimulus=z("\n      <div class='instructions'>\n      <h1>".concat(I.prompt.begin_recording,"<br>\n      ").concat(I.prompt.name_eeg_file,"<br>\n      ").concat(t[0]).concat(I.prompt.effort_suffix,"</h1>\n      </div>\n      "),!0)}}},Oe=E(N);Oe.probs=["100%","100%","50%","50%"],Oe.counterbalance=!0,Oe.value=[3,5,7],Oe.effort=[50,100,200],Oe.keys=["q","p","m"],Oe.get_reward=[!0,!0,!0,!1],Oe.num_breaks=3;var De=function(){return["".concat(I.quiz.answer_opts.true),"".concat(I.quiz.answer_opts.false)]},Me=["".concat(I.quiz.answer_opts.blue),"".concat(I.quiz.answer_opts.green)],Ue=["".concat(I.quiz.prompt.more_pumps),"".concat(I.quiz.prompt.reward_certainty_reach_spike),"".concat(I.quiz.prompt.bonus_blue),"".concat(I.quiz.prompt.bonus_green),"".concat(I.quiz.prompt.total_shown),"".concat(I.quiz.prompt.points_to_money),"".concat(I.quiz.retake)],We=["".concat(I.quiz.rules.shown_probability),"".concat(I.quiz.rules.shown_blue_green_on_screen),"".concat(I.quiz.rules.job),"".concat(I.quiz.rules.blue_req_20),"".concat(I.quiz.rules.green_vary_bonus),"".concat(I.quiz.rules.twenty_five_secs_green),"".concat(I.quiz.rules.bonus_green_spike),"".concat(I.quiz.any_questions),"".concat(I.quiz.retake)],Ae=function(){return{type:"survey_multi_choice",preamble:'<div class="quiz_container">\n                    <h3>'.concat(I.quiz.confirm_understanding,"</h3>\n                    </div>"),questions:[{prompt:Ue[0],options:Me,required:!0},{prompt:Ue[1],options:De(),required:!0},{prompt:Ue[2],options:De(),required:!0},{prompt:Ue[3],options:De(),required:!0},{prompt:Ue[4],options:De(),required:!0},{prompt:Ue[5],options:De(),required:!0}],on_load:function(){k("experiment")},on_finish:function(e){e.uniqueId="uniqueId",e.prompt=Ue,e.ans_choices=De();var t=JSON.parse(e.responses);e.answer=[];for(var n=B?Ue.length+1:Ue.length,o=0;o<n;o++)e.answer.push(t["Q"+o])}}},Ge=function(e){var t=[I.quiz.incorrect_response+"<br>"+I.quiz.review];return{type:"html_keyboard_response",stimulus:"",response_ends_trial:!0,on_load:function(){k("experiment")},on_start:function(e){e.stimulus=z("<h1>".concat(t,"</h1>"),!0)}}},Je=function(){var e=[We[0]+"<br></br>"+We[1]+"<br></br>"+We[2]+"<br></br>"+We[3]+"<br></br>"+We[4]+"<br></br>"+We[5]+"<br></br>"+We[6]+"<br></br>"+We[7]+"<br></br>"+We[8]];return{type:"html_keyboard_response",stimulus:"",response_ends_trial:!0,on_load:function(){k("experiment")},on_start:function(t){t.stimulus=z("<p>".concat(e,"</p>"),!0)}}},Ke=function(){return{timeline:[Ae(),{timeline:[{timeline:[Ge(),Je(),Ae()],loop_function:function(e){var t=m.jsPsych.data.getLastTrialData().values()[0].answer,n=["".concat(I.quiz.answer_opts.green),"".concat(I.quiz.answer_opts.false),"".concat(I.quiz.answer_opts.false),"".concat(I.quiz.answer_opts.true),"".concat(I.quiz.answer_opts.true),"".concat(I.quiz.answer_opts.true)];return JSON.stringify(t.slice(0,6))!==JSON.stringify(n)}}],conditional_function:function(e){var t=m.jsPsych.data.getLastTrialData().values()[0].answer,n=["".concat(I.quiz.answer_opts.green),"".concat(I.quiz.answer_opts.false),"".concat(I.quiz.answer_opts.false),"".concat(I.quiz.answer_opts.true),"".concat(I.quiz.answer_opts.true),"".concat(I.quiz.answer_opts.true)];return JSON.stringify(t.slice(0,6))!==JSON.stringify(n)}}],type:"html_keyboard_response"}},Qe=[de(),Ce(),fe,V(),T(I.countdown.practice1,3),Ne(le),$(),T(I.countdown.practice2,3),Ne(pe),Z(),T(I.countdown.practice3,3),Ne(ue),Ke(),Xe(),ee(),T(I.countdown.expt1,3),Ne(Oe),ze(5e3,Oe),_e(5e3)],Ve=[de(),Ce(),fe,V(),T(I.countdown.practice1,3),Ne(le),$(),T(I.countdown.practice2,3),Ne(pe),Z(),T(I.countdown.practice3,3),Ne(ue),Ke(),ee(),T(I.countdown.expt1,3),Ne(Oe),ze(5e3,Oe),_e(5e3)],$e=B?Ve:Qe,Ze=(n(28),n(29),n(30),!1),et=!1;if(!B){var tt=window.require("electron");Ze=tt.ipcRenderer}else window.lodash=_.noConflict(),et=new PsiTurk(P(),"/complete");var nt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return console.log("Outside Turk:",m.jsPsych.turk.turkInfo().outsideTurk),console.log("Turk:",B),s.a.createElement("div",{className:"App"},s.a.createElement(m.Experiment,{settings:{timeline:$e,on_data_update:function(e){Ze?Ze.send("data",e):et&&et.recordTrialData(e)},on_finish:function(e){if(Ze)Ze.send("end","true");else if(et){(function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return et.saveData(),e.next=3,y(5e3);case 3:et.completeHIT();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}}}))}}]),t}(s.a.Component);i.a.render(s.a.createElement(nt,null),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.276a3498.chunk.js.map